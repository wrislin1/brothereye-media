################################################################################
# Brother Eye Media Stack - Environment Variables Template
#
# This file serves as a template for your production environment variables.
# Copy this to secrets/.env.production and fill in your actual values.
#
# IMPORTANT: Never commit secrets/.env.production to Git!
# It should be encrypted with git-crypt or stored securely.
#
# Usage:
#   1. Copy: cp .env.example ../secrets/.env.production
#   2. Edit: nano ../secrets/.env.production
#   3. Link: ln -s ../secrets/.env.production .env
#   4. Deploy: docker compose up -d
#
################################################################################

################################################################################
# GENERAL SETTINGS
################################################################################

# Timezone for all containers (https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)
TZ=America/New_York

# User and Group IDs (must match your NAS permissions)
# Default: 1000:100 (mediauser)
PUID=1000
PGID=100

# LXC Container IP Address
LXC_IP=192.168.80.10

# Domain name (optional - for reverse proxy)
DOMAIN=brothereye.local

################################################################################
# STORAGE PATHS
################################################################################

# Base paths (inside container)
CONFIG_BASE=/config
MEDIA_BASE=/mnt/media

# NFS Mount point (on LXC host)
MEDIA_MOUNT=/mnt/media

# Download directories
DOWNLOADS_DIR=${MEDIA_MOUNT}/downloads
INCOMPLETE_DIR=${DOWNLOADS_DIR}/incomplete
COMPLETE_DIR=${DOWNLOADS_DIR}/complete

# Media libraries
MOVIES_DIR=${MEDIA_MOUNT}/Movies
TV_DIR=${MEDIA_MOUNT}/TV
MUSIC_DIR=${MEDIA_MOUNT}/Music
AUDIOBOOKS_DIR=${MEDIA_MOUNT}/Audiobooks

################################################################################
# VPN CONFIGURATION (Gluetun / WireGuard)
################################################################################

# VPN Provider (wireguard, openvpn, etc.)
VPN_SERVICE_PROVIDER=custom

# WireGuard Configuration
# Get these from your VPS WireGuard config
WIREGUARD_PRIVATE_KEY=your_private_key_here
WIREGUARD_ADDRESSES=10.200.0.2/32
WIREGUARD_PUBLIC_KEY=your_vps_public_key_here
WIREGUARD_ENDPOINT_IP=your_vps_ip_here
WIREGUARD_ENDPOINT_PORT=51820
WIREGUARD_ALLOWED_IPS=0.0.0.0/0

# DNS for VPN tunnel (optional - uses VPS Unbound)
VPN_DNS=10.200.0.1

# Gluetun Control Server Port (for status checks)
GLUETUN_HTTP_PORT=8000

################################################################################
# USENET PROVIDERS
################################################################################

# Newshosting Configuration
NEWSHOSTING_SERVER=news.newshosting.com
NEWSHOSTING_PORT=563
NEWSHOSTING_USERNAME=your_newshosting_username
NEWSHOSTING_PASSWORD=your_newshosting_password
NEWSHOSTING_CONNECTIONS=30

# Easynews Configuration (optional backup provider)
EASYNEWS_SERVER=news.easynews.com
EASYNEWS_PORT=563
EASYNEWS_USERNAME=your_easynews_username
EASYNEWS_PASSWORD=your_easynews_password
EASYNEWS_CONNECTIONS=20

################################################################################
# NZBGET CONFIGURATION
################################################################################

# NZBGet Web UI Port (accessed via Gluetun's network)
NZBGET_PORT=6789

# NZBGet Default Credentials (change after first login!)
NZBGET_USER=nzbget
NZBGET_PASS=tegbzn6789

################################################################################
# PROWLARR CONFIGURATION
################################################################################

PROWLARR_PORT=9696

# Prowlarr API Key (generate after first setup)
# Leave blank initially, set after Prowlarr is configured
PROWLARR_API_KEY=

################################################################################
# SONARR CONFIGURATION
################################################################################

SONARR_PORT=8989

# Sonarr API Key (generate after first setup)
SONARR_API_KEY=

# Sonarr Quality Profile (set after configuration)
SONARR_QUALITY_PROFILE=HD-1080p

################################################################################
# RADARR CONFIGURATION
################################################################################

RADARR_PORT=7878

# Radarr API Key (generate after first setup)
RADARR_API_KEY=

# Radarr Quality Profile (set after configuration)
RADARR_QUALITY_PROFILE=HD-1080p

################################################################################
# BAZARR CONFIGURATION
################################################################################

BAZARR_PORT=6767

# Bazarr API Key (generate after first setup)
BAZARR_API_KEY=

# Subtitle languages (comma-separated ISO 639-2 codes)
BAZARR_LANGUAGES=en,es

################################################################################
# JELLYFIN CONFIGURATION
################################################################################

JELLYFIN_PORT=8096

# Jellyfin publishes its own port for HTTPS (optional)
JELLYFIN_HTTPS_PORT=8920

# Hardware acceleration (vaapi for Intel/AMD, nvidia for NVIDIA)
JELLYFIN_HW_ACCEL=vaapi

# Jellyfin will create admin account on first run
# No default credentials needed here

################################################################################
# JELLYSEERR CONFIGURATION
################################################################################

JELLYSEERR_PORT=5055

# Jellyseerr API Key (generate after linking to Jellyfin)
JELLYSEERR_API_KEY=

################################################################################
# CADDY CONFIGURATION (Optional Reverse Proxy)
################################################################################

# Enable Caddy (true/false)
CADDY_ENABLED=false

# Caddy HTTP/HTTPS Ports
CADDY_HTTP_PORT=80
CADDY_HTTPS_PORT=443

# Domain configuration for services (only if CADDY_ENABLED=true)
CADDY_JELLYFIN_DOMAIN=jellyfin.${DOMAIN}
CADDY_SONARR_DOMAIN=sonarr.${DOMAIN}
CADDY_RADARR_DOMAIN=radarr.${DOMAIN}
CADDY_PROWLARR_DOMAIN=prowlarr.${DOMAIN}
CADDY_JELLYSEERR_DOMAIN=requests.${DOMAIN}

# Email for Let's Encrypt (only if using real domains)
CADDY_EMAIL=admin@${DOMAIN}

################################################################################
# DOCKER RESOURCE LIMITS (Optional)
################################################################################

# Memory limits (prevent any single service from consuming too much)
JELLYFIN_MEM_LIMIT=4g
SONARR_MEM_LIMIT=1g
RADARR_MEM_LIMIT=1g
PROWLARR_MEM_LIMIT=512m
NZBGET_MEM_LIMIT=2g
BAZARR_MEM_LIMIT=512m
JELLYSEERR_MEM_LIMIT=512m
GLUETUN_MEM_LIMIT=512m
CADDY_MEM_LIMIT=256m

################################################################################
# ADVANCED SETTINGS
################################################################################

# Docker network subnet
DOCKER_SUBNET=172.20.0.0/16

# Log levels (debug, info, warning, error)
LOG_LEVEL=info

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Update check interval (hours)
UPDATE_CHECK_INTERVAL=24

# Auto-restart containers on failure
RESTART_POLICY=unless-stopped

################################################################################
# NOTIFICATION SETTINGS (Optional)
################################################################################

# Apprise notification URL (supports Discord, Telegram, Email, etc.)
# Example: discord://webhook_id/webhook_token
APPRISE_URL=

# Notification events (comma-separated)
# Options: download_complete, health_check_fail, update_available
NOTIFICATION_EVENTS=download_complete,health_check_fail

################################################################################
# NOTES
################################################################################

# API Keys:
#   Most services generate API keys on first run. After initial setup:
#   1. Log into each service's web UI
#   2. Navigate to Settings â†’ General
#   3. Copy the API key
#   4. Update this file with the real API key
#   5. Restart affected containers: docker compose restart <service>

# VPN Credentials:
#   These come from your WireGuard VPN endpoint (VPS).
#   Check your VPS configuration or wireguard config file.

# Usenet Providers:
#   Sign up at:
#   - Newshosting: https://www.newshosting.com
#   - Easynews: https://www.easynews.com
#   Use your account credentials here.

# Paths:
#   Ensure /mnt/media is properly mounted before starting containers.
#   All paths should be accessible by UID 1000 / GID 100.

# Testing:
#   After updating this file, test with:
#   docker compose config (validates syntax)
#   docker compose up -d (starts services)

# Security:
#   This file contains sensitive credentials!
#   - Encrypt with git-crypt before committing
#   - Never share publicly
#   - Use strong, unique passwords
#   - Rotate API keys periodically

# Defaults:
#   Services will use sensible defaults if variables are not set.
#   However, VPN and Usenet credentials are REQUIRED for operation.
